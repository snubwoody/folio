import"../chunks/Bzak7iHL.js";import{i as Ie}from"../chunks/CwO4yEID.js";import{af as Ge,aw as Je,U as Qe,ax as He,ay as Xe,aq as Ye,e as Ze,az as et,aA as De,ap as tt,as as at,y as Q,av as ge,r as P,I,M as f,z as A,A as U,E as p,at as W,K as b,P as K,L as d,J as q,N as F,w as $,v as Se,x as nt,Q as H,u as rt,ae as ot}from"../chunks/DicYldSw.js";import{P as pe,g as D,e as B,a as C,f as st,i as ie,s as it,I as ct,j as lt,c as ut,k as Ee,l as Te,d as ze,r as dt,b as vt,S as ce,T as ft}from"../chunks/Cor0VQiW.js";import{T as le,M as Oe}from"../chunks/D-kctbAX.js";import{a as z,i as _e,b as mt,s as bt,r as ht}from"../chunks/CmpdaPHE.js";import{c as gt,$ as pt,a as R}from"../chunks/CD6iewSD.js";const _t=()=>performance.now(),L={tick:a=>requestAnimationFrame(a),now:()=>_t(),tasks:new Set};function je(){const a=L.now();L.tasks.forEach(e=>{e.c(a)||(L.tasks.delete(e),e.f())}),L.tasks.size!==0&&L.tick(je)}function yt(a){let e;return L.tasks.size===0&&L.tick(je),{promise:new Promise(t=>{L.tasks.add(e={c:a,f:t})}),abort(){L.tasks.delete(e)}}}function se(a,e){De(()=>{a.dispatchEvent(new CustomEvent(e))})}function xt(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Ae(a){const e={},t=a.split(";");for(const n of t){const[r,c]=n.split(":");if(!r||c===void 0)break;const o=xt(r.trim());e[o]=c.trim()}return e}const wt=a=>a;function Ct(a,e,t,n){var r=(a&et)!==0,c="both",o,x=e.inert,y=e.style.overflow,i,s;function w(){return De(()=>o??(o=t()(e,(n==null?void 0:n())??{},{direction:c})))}var m={is_global:r,in(){e.inert=x,se(e,"introstart"),i=he(e,w(),s,1,()=>{se(e,"introend"),i==null||i.abort(),i=o=void 0,e.style.overflow=y})},out(l){e.inert=!0,se(e,"outrostart"),s=he(e,w(),i,0,()=>{se(e,"outroend"),l==null||l()})},stop:()=>{i==null||i.abort(),s==null||s.abort()}},_=Ge;if((_.transitions??(_.transitions=[])).push(m),Je){var h=r;if(!h){for(var g=_.parent;g&&(g.f&Qe)!==0;)for(;(g=g.parent)&&(g.f&He)===0;);h=!g||(g.f&Xe)!==0}h&&Ye(()=>{Ze(()=>m.in())})}}function he(a,e,t,n,r){var c=n===1;if(tt(e)){var o,x=!1;return at(()=>{if(!x){var l=e({direction:c?"in":"out"});o=he(a,l,t,n,r)}}),{abort:()=>{x=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return r(),{abort:Q,deactivate:Q,reset:Q,t:()=>n};const{delay:y=0,css:i,tick:s,easing:w=wt}=e;var m=[];if(c&&t===void 0&&(s&&s(0,1),i)){var _=Ae(i(0,1));m.push(_,_)}var h=()=>1-n,g=a.animate(m,{duration:y,fill:"forwards"});return g.onfinish=()=>{g.cancel();var l=(t==null?void 0:t.t())??1-n;t==null||t.abort();var u=n-l,k=e.duration*Math.abs(u),S=[];if(k>0){var O=!1;if(i)for(var j=Math.ceil(k/16.666666666666668),v=0;v<=j;v+=1){var E=l+u*w(v/j),T=Ae(i(E,1-E));S.push(T),O||(O=T.overflow==="hidden")}O&&(a.style.overflow="hidden"),h=()=>{var M=g.currentTime;return l+u*w(M/k)},s&&yt(()=>{if(g.playState!=="running")return!1;var M=h();return s(M,1-M),!0})}g=a.animate(S,{duration:k,fill:"forwards"}),g.onfinish=()=>{h=()=>n,s==null||s(n,1-n),r()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=Q)},deactivate:()=>{r=Q},reset:()=>{n===0&&(s==null||s(1,0))},t:()=>h()}}var kt=I('<li class="shadow-purple-sm p-2 rounded-md"><p> </p> <h6> </h6></li>'),At=I('<section class="svelte-oa98ka"><header class="flex items-center justify-between"><h6>Accounts</h6> <button><i class="ph ph-plus"></i></button> <form><!> <!> <button class="btn btn-primary w-full">Save changes</button></form></header> <ul class="svelte-oa98ka"></ul></section>');function It(a,e){P(e,!0);const t=new pe;let n=W("My account"),r=W("0.00");async function c(){await C.accountStore.addAccount(p(n),p(r)),t.open=!1}var o=At(),x=b(o),y=f(b(x),2);D(y,()=>({...t.trigger,class:"icon-btn icon-btn-grey icon-btn-small"}));var i=f(y,2);D(i,()=>({class:"popup-overlay space-y-1.5",...t.content}));var s=b(i);le(s,{label:"Name",get value(){return p(n)},set value(h){K(n,h,!0)}});var w=f(s,2);le(w,{label:"Starting balance",get value(){return p(r)},set value(h){K(r,h,!0)}});var m=f(w,2);m.__click=c,d(i),d(x);var _=f(x,2);B(_,21,()=>C.accounts,h=>h.id,(h,g)=>{var l=kt(),u=b(l),k=b(u,!0);d(u);var S=f(u,2),O=b(S,!0);d(S),d(l),q(j=>{F(k,p(g).name),F(O,j)},[()=>st(p(g).balance,{currency:C.settings.currencyCode})]),A(h,l)}),d(_),d(o),A(a,o),U()}ge(["click"]);function Dt(a){const e=a-1;return e*e*e+1}function St(a,{delay:e=0,duration:t=400,easing:n=Dt,start:r=0,opacity:c=0}={}){const o=getComputedStyle(a),x=+o.opacity,y=o.transform==="none"?"":o.transform,i=1-r,s=x*(1-c);return{delay:e,duration:t,easing:n,css:(w,m)=>`
			transform: ${y} scale(${1-i*m});
			opacity: ${x-s*m}
		`}}var Et=I("<th> </th>"),Tt=I('<td role="gridcell"><div> </div></td>'),zt=I("<tr></tr>"),Ot=I('<table><thead aria-hidden="true"><tr></tr></thead><tbody></tbody></table>'),jt=I('<div><div><header class="calendar-header svelte-1tk865e"><button><i class="ph ph-caret-left"></i></button> <div> </div> <button><i class="ph ph-caret-right"></i></button></header> <!></div></div>'),Nt=I('<button><i class="ph ph-calendar"></i></button> <!>',1);function Ne(a,e){P(e,!0);const t=()=>z(M,"$trigger",l),n=()=>z(Be,"$open",l),r=()=>z(O,"$content",l),c=()=>z(k,"$calendar",l),o=()=>z(T,"$prevButton",l),x=()=>z(v,"$heading",l),y=()=>z(Ue,"$headingValue",l),i=()=>z(E,"$nextButton",l),s=()=>z(Pe,"$months",l),w=()=>z(j,"$grid",l),m=()=>z(Ve,"$weekdays",l),_=()=>z(Me,"$isDateDisabled",l),h=()=>z(Le,"$isDateUnavailable",l),g=()=>z(S,"$cell",l),[l,u]=mt(),{elements:{calendar:k,cell:S,content:O,grid:j,heading:v,nextButton:E,prevButton:T,trigger:M},states:{months:Pe,headingValue:Ue,weekdays:Ve,open:Be},helpers:{isDateDisabled:Me,isDateUnavailable:Le}}=gt({fixedWeeks:!0,defaultValue:new pt(2025,10,10),onValueChange:({next:V})=>(e.onDateChange&&V&&e.onDateChange(V.year,V.month,V.day),V)});var ye=Nt(),de=$(ye);D(de,()=>({...t(),class:"icon-btn icon-btn-grey icon-btn-medium"}),void 0,void 0,"svelte-1tk865e"),R(de,V=>M==null?void 0:M(V));var Re=f(de,2);{var qe=V=>{var J=jt();D(J,()=>({...r(),class:"absolute z-100"}),void 0,void 0,"svelte-1tk865e");var ae=b(J);D(ae,()=>({...c()}),void 0,void 0,"svelte-1tk865e");var ve=b(ae),fe=b(ve);D(fe,()=>({class:"icon-btn icon-btn-medium icon-btn-neutral",...o()}),void 0,void 0,"svelte-1tk865e"),R(fe,N=>T==null?void 0:T(N));var X=f(fe,2);D(X,()=>({...x()}),void 0,void 0,"svelte-1tk865e");var We=b(X,!0);d(X),R(X,N=>v==null?void 0:v(N));var xe=f(X,2);D(xe,()=>({class:"icon-btn icon-btn-medium icon-btn-neutral",...i()}),void 0,void 0,"svelte-1tk865e"),R(xe,N=>E==null?void 0:E(N)),d(ve);var Ke=f(ve,2);B(Ke,1,s,N=>N.value.month,(N,we)=>{var Y=Ot();D(Y,()=>({...w()}),void 0,void 0,"svelte-1tk865e");var me=b(Y),Ce=b(me);B(Ce,5,m,ie,(Z,be)=>{var G=Et(),ee=b(G,!0);d(G),q(()=>F(ee,p(be))),A(Z,G)}),d(Ce),d(me);var ke=f(me);B(ke,21,()=>p(we).weeks,ie,(Z,be)=>{var G=zt();B(G,20,()=>p(be),ee=>ee,(ee,ne)=>{var re=Tt(),oe=b(re);D(oe,te=>({...te}),[()=>g()(ne,p(we).value)],void 0,"svelte-1tk865e");var $e=b(oe,!0);d(oe),R(oe,te=>S==null?void 0:S(te)),d(re),q(te=>{it(re,"aria-disabled",te),F($e,ne.day)},[()=>_()(ne)||h()(ne)]),A(ee,re)}),d(G),A(Z,G)}),d(ke),d(Y),R(Y,Z=>j==null?void 0:j(Z)),A(N,Y)}),d(ae),R(ae,N=>k==null?void 0:k(N)),d(J),R(J,N=>O==null?void 0:O(N)),q(()=>F(We,y())),Ct(3,J,()=>St,()=>({start:.8})),A(V,J)};_e(Re,V=>{n()&&V(qe)})}A(a,ye),U(),u()}function Ft(a,e){P(e,!0);/**
 * @license @lucide/svelte v0.546.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=ht(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"m6 9 6 6 6-6"}]];ct(a,bt({name:"chevron-down"},()=>t,{get iconNode(){return n},children:(r,c)=>{var o=Se(),x=$(o);nt(x,()=>e.children??Q),A(r,o)},$$slots:{default:!0}})),U()}var Pt=I("<li> </li>"),Ut=I("<div><!></div> <ul></ul>",1);function ue(a,e){P(e,!0);const t=H(()=>e.items.map(i=>e.toOption(i))),n=i=>{var w;const s=e.items.find(m=>e.toOption(m).value===(i==null?void 0:i.value));s&&((w=e.onChange)==null||w.call(e,s))},r=new lt({value:e.defaultValue?e.toOption(e.defaultValue):void 0,onValueChange:n});var c=Ut(),o=$(c);D(o,()=>({...r.trigger,class:"space-y-1"}));var x=b(o);ut(x,{variant:"ghost",children:(i,s)=>{Ft(i,{})},$$slots:{default:!0}}),d(o);var y=f(o,2);D(y,()=>({...r.content,class:"popup-overlay space-y-1 w-fit!"})),B(y,21,()=>p(t),i=>i.value,(i,s)=>{const w=H(()=>r.isSelected(p(s)));var m=Pt();D(m,h=>({...h,"data-selected":p(w)}),[()=>r.getOption(p(s))],void 0,"svelte-1xzcxwk");var _=b(m,!0);d(m),q(()=>F(_,p(s).label)),A(i,m)}),d(y),A(a,c),U()}var Vt=I('<div class="data-cell flex justify-between items-center"><p> </p> <!></div> <div class="data-cell flex justify-between items-center"><p> </p> <!></div> <li class="data-cell flex items-center justify-between"><p> </p> <!></li> <!>',1);function Bt(a,e){P(e,!0);const t=H(()=>Te(C.settings.currencyCode));let n=H(()=>ze(e.expense.amount,{currency:C.settings.currencyCode}));function r(v,E,T){C.transactions.editExpense({id:e.expense.id,date:`${v}-${E}-${T}`})}async function c(v){await C.transactions.editExpense({id:e.expense.id,amount:v})}async function o(v){await C.transactions.editExpense({id:e.expense.id,categoryId:v.id})}async function x(v){await C.transactions.editExpense({id:e.expense.id,accountId:v.id})}var y=Vt(),i=$(y),s=b(i),w=b(s,!0);d(s);var m=f(s,2);ue(m,{get items(){return C.categories},toOption:v=>({label:v.title,value:v.id}),onChange:o}),d(i);var _=f(i,2),h=b(_),g=b(h,!0);d(h);var l=f(h,2);ue(l,{get items(){return C.accounts},toOption:v=>({label:v.name,value:v.id}),onChange:x}),d(_);var u=f(_,2),k=b(u),S=b(k,!0);d(k);var O=f(k,2);Ne(O,{onDateChange:r}),d(u);var j=f(u,2);Oe(j,{get symbol(){return p(t)},get amount(){return p(n)},onUpdate:c}),q(v=>{var E,T;F(w,((E=e.expense.category)==null?void 0:E.title)??" "),F(g,((T=e.expense.account)==null?void 0:T.name)??" "),F(S,v)},[()=>Ee(e.expense.date)]),A(a,y),U()}var Mt=I('<ul class="expense-table svelte-xbsih"><p class="table-heading svelte-xbsih">Category</p> <p class="table-heading svelte-xbsih">Account</p> <p class="table-heading svelte-xbsih">Date</p> <p class="table-heading svelte-xbsih">Amount</p> <!></ul>');function Lt(a,e){P(e,!1),Ie();var t=Mt(),n=f(b(t),8);B(n,1,()=>C.expenses,r=>r.id,(r,c)=>{Bt(r,{get expense(){return p(c)}})}),d(t),A(a,t),U()}var Rt=I('<label class="flex h-full w-full flex-col gap-1"><p class="text-sm text-text-muted">Date</p> <input type="date" name="" id="" class="svelte-p2nurk"/></label>');function Fe(a,e){P(e,!0);let t=W(void 0);rt(()=>{var y;if(!p(t))return;let[c,o,x]=p(t).split("-").map(i=>parseInt(i));(y=e.onChange)==null||y.call(e,c,o,x)});var n=Rt(),r=f(b(n),2);dt(r),d(n),vt(r,()=>p(t),c=>K(t,c)),A(a,n),U()}var qt=I('<button>New</button> <form><!> <!> <!> <!> <button class="btn btn-primary w-full">Add transaction</button></form>',1);function Wt(a,e){P(e,!0);const t=new pe;let n=W(""),r,c,o=W(void 0);async function x(){C.transactions.addExpense({date:p(o),amount:p(n),categoryId:c==null?void 0:c.id,currencyCode:"USD",accountId:r==null?void 0:r.id}),t.open=!1}var y=qt(),i=$(y);D(i,()=>({...t.trigger,class:"btn btn-primary ml-auto"}));var s=f(i,2),w=()=>{};D(s,()=>({...t.content,class:"popup-overlay space-y-2 bg-white max-w-[350px] w-full",onsubmit:w}));var m=b(s);le(m,{label:"Amount",get value(){return p(n)},set value(u){K(n,u,!0)}});var _=f(m,2);Fe(_,{onChange:(u,k,S)=>K(o,`${u}-${k}-${S}`)});var h=f(_,2);ce(h,{label:"Account",get items(){return C.accounts},toOption:u=>({label:u.name,value:u.id}),onChange:u=>r=u});var g=f(h,2);ce(g,{label:"Category",get items(){return C.categories},toOption:u=>({label:u.title,value:u.id}),onChange:u=>c=u});var l=f(g,2);l.__click=x,d(s),A(a,y),U()}ge(["click"]);var Kt=I('<button>New</button> <form><!> <!> <!> <!> <button class="btn btn-primary w-full">Add transaction</button></form>',1);function $t(a,e){P(e,!0);const t=new pe;let n=W(""),r,c,o=W(void 0);async function x(){C.transactions.addIncome({date:p(o),amount:p(n),incomeStreamId:c==null?void 0:c.id,currencyCode:"USD",accountId:r==null?void 0:r.id}),t.open=!1}var y=Kt(),i=$(y);D(i,()=>({...t.trigger,class:"btn btn-primary ml-auto"}));var s=f(i,2),w=()=>{};D(s,()=>({...t.content,class:"popup-overlay space-y-2 bg-white max-w-[350px] w-full",onsubmit:w}));var m=b(s);le(m,{label:"Amount",get value(){return p(n)},set value(u){K(n,u,!0)}});var _=f(m,2);Fe(_,{onChange:(u,k,S)=>K(o,`${u}-${k}-${S}`)});var h=f(_,2);ce(h,{label:"Account",get items(){return C.accounts},toOption:u=>({label:u.name,value:u.id}),onChange:u=>r=u});var g=f(h,2);ce(g,{label:"Income stream",get items(){return C.incomeStreams},toOption:u=>({label:u.title,value:u.id}),onChange:u=>c=u});var l=f(g,2);l.__click=x,d(s),A(a,y),U()}ge(["click"]);function Gt(a,e){var t=Se(),n=$(t);{var r=o=>{Wt(o,{})},c=o=>{$t(o,{})};_e(n,o=>{e.activeTab==="Expenses"?o(r):o(c,!1)})}A(a,t)}var Jt=I('<div class="data-cell flex justify-between items-center"><p> </p> <!></div> <div class="data-cell flex justify-between items-center"><p> </p> <!></div> <li class="data-cell flex items-center justify-between"><p> </p> <!></li> <!>',1);function Qt(a,e){P(e,!0);const t=H(()=>Te(C.settings.currencyCode));let n=H(()=>ze(e.income.amount,{currency:C.settings.currencyCode}));function r(v,E,T){C.transactions.editIncome({id:e.income.id,date:`${v}-${E}-${T}`})}async function c(v){await C.transactions.editIncome({id:e.income.id,amount:v})}async function o(v){await C.transactions.editIncome({id:e.income.id,incomeStreamId:v.id})}async function x(v){await C.transactions.editIncome({id:e.income.id,accountId:v.id})}var y=Jt(),i=$(y),s=b(i),w=b(s,!0);d(s);var m=f(s,2);ue(m,{get items(){return C.incomeStreams},toOption:v=>({label:v.title,value:v.id}),onChange:o}),d(i);var _=f(i,2),h=b(_),g=b(h,!0);d(h);var l=f(h,2);ue(l,{get items(){return C.accounts},toOption:v=>({label:v.name,value:v.id}),onChange:x}),d(_);var u=f(_,2),k=b(u),S=b(k,!0);d(k);var O=f(k,2);Ne(O,{onDateChange:r}),d(u);var j=f(u,2);Oe(j,{get symbol(){return p(t)},get amount(){return p(n)},onUpdate:c}),q(v=>{var E,T;F(w,((E=e.income.incomeStream)==null?void 0:E.title)??" "),F(g,((T=e.income.account)==null?void 0:T.name)??" "),F(S,v)},[()=>Ee(e.income.date)]),A(a,y),U()}var Ht=I('<ul class="expense-table svelte-zdt2zh"><p class="table-heading svelte-zdt2zh">Income stream</p> <p class="table-heading svelte-zdt2zh">Account</p> <p class="table-heading svelte-zdt2zh">Date</p> <p class="table-heading svelte-zdt2zh">Amount</p> <!></ul>');function Xt(a,e){P(e,!1),Ie();var t=Ht(),n=f(b(t),8);B(n,1,()=>C.incomes,r=>r.id,(r,c)=>{Qt(r,{get income(){return p(c)}})}),d(t),A(a,t),U()}var Yt=I("<button> </button>"),Zt=I("<div><!></div>"),ea=I('<section class="space-y-2"><header class="flex items-center gap-2"><!> <!></header> <!></section>');function ta(a,e){P(e,!0);const t=["Expenses","Income"];let n=W(ot(t[0]));const r=new ft({value:t[0],onValueChange:s=>K(n,s,!0)});var c=ea(),o=b(c),x=b(o);B(x,17,()=>t,ie,(s,w)=>{var m=Yt();D(m,h=>({...h}),[()=>r.getTrigger(p(w))],void 0,"svelte-ucfjag");var _=b(m,!0);d(m),q(()=>F(_,p(w))),A(s,m)});var y=f(x,2);Gt(y,{get activeTab(){return p(n)}}),d(o);var i=f(o,2);B(i,17,()=>t,ie,(s,w)=>{var m=Zt();D(m,l=>({...l}),[()=>r.getContent(p(w))],void 0,"svelte-ucfjag");var _=b(m);{var h=l=>{Lt(l,{})},g=l=>{Xt(l,{})};_e(_,l=>{p(w)==="Expenses"?l(h):l(g,!1)})}d(m),A(s,m)}),d(c),A(a,c),U()}var aa=I('<main class="svelte-1uha8ag"><!> <!></main>');function ua(a){var e=aa(),t=b(e);It(t,{});var n=f(t,2);ta(n,{}),d(e),A(a,e)}export{ua as component};
